<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POST Form</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/post-form.css">
    <link rel="stylesheet" th:href="@{/assets/css/header-styles.css}">
    <link rel="stylesheet" th:href="@{/assets/css/footer-styles.css}">
    <link rel="stylesheet" th:href="@{/assets/css/admin-header.css}">

</head>
<body>
    <div th:replace="~{fragments/header :: menu}"></div>
    <div th:replace="~{fragments/admin-header :: menu}"></div>

    <div class= "container form-container">
        <h2>Create a Post</h2>
        <form id="postForm" method="post" th:action="@{/admin/post}" th:object="${post}">
            <!-- Title -->
            <div class="mb-3">
                <label for="title" class="form-label">Title</label>
                <input type="text" class="form-control" id="title" placeholder="Enter post title" required th:field="*{title}" onkeyup="enteredTitleText(this);">
            </div>

             <!-- Sub-Title -->
            <div class="mb-3">
                <label for="sub-title" class="form-label">Sub-Title</label>
                <input type="text" class="form-control" id="sub-title" placeholder="Enter post sub-title" required th:field="*{subTitle}">
            </div>

            <!-- URI for Image -->
            <div class="mb-3">
                <label for="imageUri" class="form-label">Post URI</label>
                <input type="text" class="form-control" id="postUri" placeholder="Enter URI" th:field="*{uri}">
            </div>

            <!-- Page Selection -->
            <div class="mb-3">
                <label for="pageSelection" class="form-label">Which Page do you want to post your content?</label>
                <select class="form-select" id="pageSelection" th:field="*{category}">
                    <option value="alerts">Alerts</option>
                    <option value="advisories">Advisories</option>
                    <option value="bulletins">Bulletins</option>
                </select>
            </div>

            <!-- Rich Text Editor -->
            <div class="toolbar">
                <button type="button" class="toolbar-btn" onclick="execCommand('bold')"><i class="fas fa-bold"></i> Bold</button>
                <button type="button" class="toolbar-btn" onclick="execCommand('italic')"><i class="fas fa-italic"></i> Italic</button>
                <button type="button" class="toolbar-btn" onclick="execCommand('underline')"><i class="fas fa-underline"></i> Underline</button>
                <button type="button" class="toolbar-btn" onclick="execCommand('justifyLeft')"><i class="fas fa-align-left"></i> Left</button>
                <button type="button" class="toolbar-btn" onclick="execCommand('justifyCenter')"><i class="fas fa-align-center"></i> Center</button>
                <button type="button" class="toolbar-btn" onclick="execCommand('justifyRight')"><i class="fas fa-align-right"></i> Right</button>
                <button type="button" class="toolbar-btn" onclick="execCommand('insertOrderedList')"><i class="fas fa-list-ol"></i> OL</button>
                <button type="button" class="toolbar-btn" onclick="execCommand('insertUnorderedList')"><i class="fas fa-list-ul"></i> UL</button>
                <button type="button" class="toolbar-btn" onclick="createLink()"><i class="fas fa-link"></i> Link</button>
                <button type="button" class="toolbar-btn" onclick="execCommand('unlink')"><i class="fas fa-unlink"></i> Unlink</button>
                <button id="showHtmlButton" type="button" class="btn btn-danger" onclick="clickedShowHtml()"> Show Html </button>
                <button id="showBeautifiedButton" type="button" class="btn btn-success" onclick="clickedShowBeautified()" disabled> Show Beautified </button>
            </div>

            <!-- Editor -->
            <div id="editor" class="editor-container" contenteditable="true">
                Start writing here...
            </div>
            <textarea hidden th:field="*{body}" id="bodyHtmlTextArea"></textarea>

            <!-- Visibility -->
            <div class="mb-3">
                <label for="visibility" class="form-label">Visibility</label>
                <select class="form-select" id="visibility" th:field="*{visibility}">
                    <option value="public">Public</option>
                    <option value="private">Private</option>
                </select>
            </div>

            <!-- Publication Time -->
            <div class="mb-3">
                <label for="publicationTime" class="form-label">Publish Time</label>
                <input type="datetime-local" class="form-control" th:field="*{publishedAt}">
            </div>

            <button type="submit" id="submitBtn" class="btn btn-primary">Submit</button>
        </form>
    </div>


    <script th:src="@{/assets/js/admin-post-form.js}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        
    </script>
</body>
</html>
